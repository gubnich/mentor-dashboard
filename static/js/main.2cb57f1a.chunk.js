(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),o=a.n(s),l=(a(77),a(46)),c=a(62),i=a(63),u=a(70),m=a(64),d=a(23),h=a(71),p=a(69),g=(a(78),a(79),a(45)),f=a.n(g),v=f.a.initializeApp({apiKey:"AIzaSyA3Z3BY674eZSeyDEcMvCj-q_swTtn4odA",authDomain:"mentor-dashboard-mirror.firebaseapp.com",databaseURL:"https://mentor-dashboard-mirror.firebaseio.com",projectId:"mentor-dashboard-mirror",storageBucket:"mentor-dashboard-mirror.appspot.com",messagingSenderId:"834854549358"}),k=new f.a.auth.GithubAuthProvider;k.addScope("read:user");var E=function(){return v.auth().signInWithPopup(k)};var b=function(e){if(e.data){var t=e.data.tasks;return r.a.createElement("ul",{className:"tasksList"},r.a.createElement("li",{className:"emptyCell"}),t.names.map(function(e,a){var n=t.links[a]?t.links[a]:null;return r.a.createElement("li",{key:a},r.a.createElement("a",{"data-type":n?"yes":"no",href:t.links[a]},e))}))}return r.a.createElement("ul",null)};var y=function(e){var t;switch(!0){case"In Progress"===e.status:t="statusInProgress";break;case null!==e.mark:t="statusDone";break;case"Checked"===e.status:t="statusChecked";break;case"Checking"===e.status:t="statusChecking";break;default:t="statusToDo"}return r.a.createElement("li",{className:t},r.a.createElement("a",{href:e.link,title:e.comment},e.mark))};var C=function(e){if(e.data&&e.mentor){console.log(e.data.tasks.statuses);var t=e.data.mentors[e.mentor].students,a=e.data.tasks.statuses;return r.a.createElement("ul",{className:"studentsList"},Object.keys(t).map(function(e,n){return r.a.createElement("li",{className:"student",key:n},r.a.createElement("a",{href:t[e].gitHubLink,className:"studentName"},e),r.a.createElement("ul",{className:"studentMarks"},t[e].score.map(function(e,t){var n=e?e.mark:null,s=e?e.linkPR:null,o=e?e.comment:null;return r.a.createElement(y,{mark:n,status:a[t],key:t,link:s,comment:o})})))}))}return r.a.createElement("ul",null)},M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(d.a)(a)),a.login=a.login.bind(Object(d.a)(a)),a.state={user:"",data:null,options:[],currentMentor:localStorage.mentorLogin},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./school.json").then(function(e){return e.json()}).then(function(t){console.log("data",t);var a=Object.keys(t.mentors).map(function(e){return{value:e,label:e}});e.setState({data:t,options:a})})}},{key:"login",value:function(){var e=this;E().then(function(t){var a=t.user;fetch("https://api.github.com/user/".concat(a.providerData[0].uid)).then(function(e){return e.json()}).then(function(t){var a=t.login.toLowerCase();sessionStorage.setItem("session",a),e.state.data.mentors[a]?(localStorage.setItem("mentorLogin",a),e.setState({user:a,currentMentor:localStorage.mentorLogin})):e.setState({user:a,currentMentor:void 0}),console.log(t)})})}},{key:"handleChange",value:function(e){console.log(e.value),localStorage.setItem("mentorLogin",e.value),this.setState({currentMentor:e.value})}},{key:"setDefaultMentor",value:function(){var e={value:this.state.currentMentor,label:this.state.currentMentor};return this.state.currentMentor?e:void 0}},{key:"generateValue",value:function(){return{value:this.state.currentMentor,label:this.state.currentMentor}}},{key:"render",value:function(){return console.log(this.state.currentMentor,this.state.user),sessionStorage.session?r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"appHeader"},r.a.createElement(p.a,{options:this.state.options,onChange:this.handleChange,defaultValue:this.setDefaultMentor(),theme:function(e){return Object(l.a)({},e,{borderRadius:0,colors:Object(l.a)({},e.colors,{primary50:"#B9C1D4",primary:"#6477A0",neutral0:"#ECEEF3"})})}})),r.a.createElement("section",{className:"appBody"},r.a.createElement(b,{data:this.state.data}),r.a.createElement(C,{data:this.state.data,mentor:this.state.currentMentor}))):r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"entrance"},r.a.createElement("div",{className:"btn",onClick:this.login},r.a.createElement("span",null,"Login")),r.a.createElement("ul",{className:"fileLinks"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1-HYzpnEYpIsv5qSSuSZCgKf5-mYnG0T3Xt864Hhdnew/edit?usp=drive_open&ouid=0"},"Pairs")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/1uojrkWfoLh9oTKxLWCdirrNJYGVfCtiF9RlZrwsxSbo/edit#gid=0"},"Tasks")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://docs.google.com/spreadsheets/d/18exMEOWGKsMPggt0t3yU-MR1gvX3OFBDqKCvdNy8rAU/edit#gid=104739544"},"Scores")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,a){e.exports=a(142)},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.2cb57f1a.chunk.js.map